{% extends 'FOSUserBundle::layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/jquery.rateyo.min.css') }}">
    <link rel="stylesheet" href="{{ asset('css/masterslider.css') }}">
    <link rel="stylesheet" href="{{ asset('css/style.css') }}">
{% endblock %}

{% block fos_user_content %}
    <div class="container">
            <div class="col-md-4 logo_detail_section">
                <img width="200" src="{{ vich_uploader_asset(negocio.logo, 'logoFile','AppBundle\\Entity\\Logo') }}" alt="" />
                <div id="rateYo" data-rating="{{ moy }}"></div>
                <p><i class="fa fa-map-marker" aria-hidden="true"></i> {{ negocio.direccion }}</p>
                <p>{{ negocio.distrito }} - {{ negocio.departamento }}</p>
                <p><i class="fa fa-phone" aria-hidden="true"></i> {{ negocio.telefono }}</p>
                <p><i class="fa fa-globe" aria-hidden="true"></i> {{ negocio.web }}</p>
                <p><i class="fa fa-envelope" aria-hidden="true"></i> {{ negocio.email }}</p>
                <div class="social-icons">
                    <a href="">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-square fa-stack-2x"></i>
                      <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                    </span>
                    </a>
                    <a href="">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-square fa-stack-2x"></i>
                      <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                    </span>
                    </a>
                    <a href="">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-square fa-stack-2x"></i>
                      <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
                    </span>
                    </a>
                    <a href="">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-square fa-stack-2x"></i>
                      <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
                    </span>
                    </a>
                </div>
                <a class="contactenos_button" href="#">
                    <button class="btn btn-default"> cont√°ctanos </button>
                </a>
            </div>

            <div class="col-md-8">
                <div class="master-slider ms-skin-default" id="masterslider">
                    <div class="ms-slide">
                        <a href="http://player.vimeo.com/video/110032321" data-type="video"> vimeo video </a>
                        <img src="{{ asset('images/assets/cosapi_slider1.jpg') }}" alt="" />
                    </div>
                    <div class="ms-slide">
                        <img src="{{ asset('images/assets/cosapi_slider2.jpg') }}" alt="" />
                    </div>
                    <div class="ms-slide">
                        <img src="{{ asset('images/assets/cosapi_slider3.jpg') }}" alt="" />
                    </div>
                    <div class="ms-slide">
                        <img src="{{ asset('images/assets/cosapi_slider2.jpg') }}" alt="" />
                    </div>
                </div>
            </div>
    </div>

    <div class="container detail_description">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium asperiores, aspernatur cupiditate ea eos eum incidunt ipsum iste maiores neque nobis odio quae quia repellat repudiandae soluta temporibus velit voluptatum. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Culpa dignissimos distinctio dolore excepturi explicabo harum, id illum ipsum nisi provident quia quod, veritatis. Ad ea error maiores odit officiis pariatur!</p>
    </div>

    <div class="container proyects-links">

    </div>

    <div class="menu-proyectos-right-bar">
        {{ render(controller(
        'AppBundle:Proyecto:lastProyectos',
        { 'id_negocio':negocio.id,'max': 4 }
        )) }}
    </div>


    <div class="container proyect-slider">
        <div class="col-md-9 col-xs-12">
            <div class="master-slider ms-skin-default" id="masterslider2">
                <div class="ms-slide">
                    <a href="http://player.vimeo.com/video/110032321" data-type="video"> vimeo video </a>
                    <img src="http://placehold.it/930x500x?text=Proyecto+1A" alt="" />
                </div>
                <div class="ms-slide">
                    <img src="http://placehold.it/930x500x?text=Proyecto+1B" alt="" />
                </div>
                <div class="ms-slide">
                    <img src="http://placehold.it/930x500x?text=Proyecto+1C" alt="" />
                </div>
                <div class="ms-slide">
                    <img src="http://placehold.it/930x500x?text=Proyecto+1D" alt="" />
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <ul>
                <li>
                    <img src="http://placehold.it/160x105x?text=Proyecto+1" alt="" />
                    <span>Proyecto 1</span>
                </li>
                <li>
                    <img src="http://placehold.it/160x105x?text=Proyecto+2" alt="" />
                    <span>Proyecto 1</span>
                </li>
                <li>
                    <img src="http://placehold.it/160x105x?text=Proyecto+3" alt="" />
                    <span>Proyecto 1</span>
                </li>
                <li>
                    <img src="http://placehold.it/160x105x?text=Proyecto+4" alt="" />
                </li>
            </ul>
        </div>
    </div>


    <div class="container-fluid googlemaps">
        <div class="row">
            {% if map is defined %}
                {{ google_map(map) }}
            {% endif %}

        </div>
    </div>




    {% if form is defined %}
        {{ form(form,{attr: {novalidate: 'novalidate'}}) }}
    {% endif %}


    <div class="container comments_details">
        <div class="col-md-8 col-md-offset-2">
            {% for c in comentarios %}
                <div class="media comment">
                    <div class="media-left">
                        <img class="img-circle" alt="user icon" src="http://placehold.it/100x100x?text=Foto+Perfil">
                    </div>
                    <div class="media-body">
                        <h3>{{ c.titulo }}</h3>
                        <div class="rateYo_comments" data-rating="{{ c.nota }}"></div><span>{{ c.user.nombres }} - </span>
                        <small class="date">{{ c.adedAt|date("d F, Y") }}</small>
                        <p>
                            {{ c.comentario }}
                        </p>
                    </div>
                </div>
            {% endfor %}
        </div>

    </div>
{% endblock fos_user_content %}


{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/jquery.rateyo.min.js') }}"></script>
    <script src="{{ asset('js/masterslider.min.js') }}" type="text/javascript"></script>
    <script>
        $(document).ready(function() {
            var slider = new MasterSlider();
            slider.control('arrows' ,{insertTo:'#masterslider'});
            slider.control('bullets');

            slider.setup('masterslider' , {
                width:750,
                height:470,
                space:0,
                grabCursor:false,
                view:'basic',
                layout:'boxed',
                speed:20
            });


            var slider2 = new MasterSlider();
            slider2.control('arrows' ,{insertTo:'#masterslider2'});
            slider2.control('bullets');

            slider2.setup('masterslider2' , {
                width:930,
                height:500,
                space:0,
                grabCursor:false,
                view:'basic',
                layout:'boxed',
                speed:20
            });


            var color="#30BDEF";
            var test = $("#rateYo").attr("data-rating");

            $("#rateYo").rateYo({
                rating: test,
                ratedFill: color,
                normalFill: "#A0A0A0",
                readOnly: true
            });

            $( ".rateYo_comments" ).each(function( index ) {
                $(this).rateYo({
                    rating: $(this).attr("data-rating"),
                    starWidth: "20px",
                    readOnly: true,
                    ratedFill: color,
                    normalFill: "#A0A0A0"
                });
            });

        });
    </script>
{% endblock javascripts %}